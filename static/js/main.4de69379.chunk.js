(this.webpackJsonpIM=this.webpackJsonpIM||[]).push([[0],{171:function(t,e,a){"use strict";a.r(e);var o=a(1),n=a.n(o),p=a(12),l=a.n(p),s=(a(83),a(2)),r=a(53),i=a(73),c=a(7),m=a(54),y=a(34),d=a(20),f=a(78),u=a(74),b=a.n(u);a.p,a.p,a.p,a.p,a(6);var S=a(0);a.p,a.p,a.p,a.p,a.p,a.p,a(39);a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p;a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p;a.p,a.p;var g=a(8),h=a.n(g),j=a.p+"static/media/sound 3.76799ea5.mp3",O=a.p+"static/media/sound 5.4c93a3d0.mp3",x=a.p+"static/media/sound 4.c342ec65.mp3",w=a.p+"static/media/sound 1.d686618e.mp3";new h.a(j),new h.a(O),new h.a(x),new h.a(w);a.p,a.p,a.p,a.p;a.p,a.p,a.p,a.p,a.p;a.p;new h.a(j),new h.a(O),new h.a(x),new h.a(w);f.a.plugins.push(b.a);var v,k,T=a.p+"static/media/background_1280x800_s.42412c6b.jpg",_=a.p+"static/media/background_1280x800_a.22cc10a3.jpg",F=a.p+"static/media/background_1280x800_j.a6b96c1d.jpg",B=a.p+"static/media/background_1980x1080_s.cab348ec.jpg",H=a.p+"static/media/background_1980x1080_a.764ddacd.jpg",E=a.p+"static/media/background_1980x1080_j.8a84c2bd.jpg",W=a.p+"static/media/background_touch.f2481219.jpg",z=a(55),C=Object(c.createGlobalStyle)(y.darkEva),R=Object(c.createGlobalStyle)(y.darkSber),A=Object(c.createGlobalStyle)(y.darkJoy),L=Object(c.createGlobalStyle)(m.sberBox),D=Object(c.createGlobalStyle)({":root":{"font-size":"22px","--plasma-typo-display1-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-display1-fontWeight":500,"--plasma-typo-display1-fontStyle":"normal","--plasma-typo-display1-fontSize":"6rem","--plasma-typo-display1-letterSpacing":"-0.0190em","--plasma-typo-display1-lineHeight":"6rem","--plasma-typo-display2-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-display2-fontWeight":500,"--plasma-typo-display2-fontStyle":"normal","--plasma-typo-display2-fontSize":"3.75rem","--plasma-typo-display2-letterSpacing":"-0.0190em","--plasma-typo-display2-lineHeight":"4rem","--plasma-typo-display3-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-display3-fontWeight":500,"--plasma-typo-display3-fontStyle":"normal","--plasma-typo-display3-fontSize":"3rem","--plasma-typo-display3-letterSpacing":"normal","--plasma-typo-display3-lineHeight":"3.25rem","--plasma-typo-headline1-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-headline1-fontWeight":700,"--plasma-typo-headline1-fontStyle":"normal","--plasma-typo-headline1-fontSize":"2rem","--plasma-typo-headline1-letterSpacing":"-0.0110em","--plasma-typo-headline1-lineHeight":"2.25rem","--plasma-typo-headline2-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-headline2-fontWeight":600,"--plasma-typo-headline2-fontStyle":"normal","--plasma-typo-headline2-fontSize":"1.5rem","--plasma-typo-headline2-letterSpacing":"-0.0220em","--plasma-typo-headline2-lineHeight":"1.75rem","--plasma-typo-headline3-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-headline3-fontWeight":600,"--plasma-typo-headline3-fontStyle":"normal","--plasma-typo-headline3-fontSize":"1.25rem","--plasma-typo-headline3-letterSpacing":"-0.0250em","--plasma-typo-headline3-lineHeight":"1.5rem","--plasma-typo-headline4-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-headline4-fontWeight":700,"--plasma-typo-headline4-fontStyle":"normal","--plasma-typo-headline4-fontSize":"1.25rem","--plasma-typo-headline4-letterSpacing":"-0.0250em","--plasma-typo-headline4-lineHeight":"1.5rem","--plasma-typo-body1-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-body1-fontWeight":500,"--plasma-typo-body1-fontStyle":"normal","--plasma-typo-body1-fontSize":"1rem","--plasma-typo-body1-letterSpacing":"-0.0190em","--plasma-typo-body1-lineHeight":"1.25rem","--plasma-typo-body2-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-body2-fontWeight":600,"--plasma-typo-body2-fontStyle":"normal","--plasma-typo-body2-fontSize":"1rem","--plasma-typo-body2-letterSpacing":"-0.0190em","--plasma-typo-body2-lineHeight":"1.25rem","--plasma-typo-body3-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-body3-fontWeight":700,"--plasma-typo-body3-fontStyle":"normal","--plasma-typo-body3-fontSize":"1rem","--plasma-typo-body3-letterSpacing":"-0.0190em","--plasma-typo-body3-lineHeight":"1.25rem","--plasma-typo-paragraph1-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-paragraph1-fontWeight":400,"--plasma-typo-paragraph1-fontStyle":"normal","--plasma-typo-paragraph1-fontSize":"1rem","--plasma-typo-paragraph1-letterSpacing":"-0.0190em","--plasma-typo-paragraph1-lineHeight":"1.375rem","--plasma-typo-paragraph2-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-paragraph2-fontWeight":600,"--plasma-typo-paragraph2-fontStyle":"normal","--plasma-typo-paragraph2-fontSize":"1rem","--plasma-typo-paragraph2-letterSpacing":"-0.0190em","--plasma-typo-paragraph2-lineHeight":"1.375rem","--plasma-typo-footnote1-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-footnote1-fontWeight":500,"--plasma-typo-footnote1-fontStyle":"normal","--plasma-typo-footnote1-fontSize":"0.875rem","--plasma-typo-footnote1-letterSpacing":"-0.0190em","--plasma-typo-footnote1-lineHeight":"1.125rem","--plasma-typo-footnote2-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-footnote2-fontWeight":600,"--plasma-typo-footnote2-fontStyle":"normal","--plasma-typo-footnote2-fontSize":"0.875rem","--plasma-typo-footnote2-letterSpacing":"-0.0190em","--plasma-typo-footnote2-lineHeight":"1.125rem","--plasma-typo-button1-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-button1-fontWeight":600,"--plasma-typo-button1-fontStyle":"normal","--plasma-typo-button1-fontSize":"1rem","--plasma-typo-button1-letterSpacing":"normal","--plasma-typo-button1-lineHeight":"1.25rem","--plasma-typo-button2-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-button2-fontWeight":600,"--plasma-typo-button2-fontStyle":"normal","--plasma-typo-button2-fontSize":"0.875rem","--plasma-typo-button2-letterSpacing":"normal","--plasma-typo-button2-lineHeight":"1rem","--plasma-typo-caption-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-caption-fontWeight":500,"--plasma-typo-caption-fontStyle":"normal","--plasma-typo-caption-fontSize":"0.75rem","--plasma-typo-caption-letterSpacing":"-0.0220em","--plasma-typo-caption-lineHeight":"1rem","--plasma-typo-underline-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-underline-fontWeight":500,"--plasma-typo-underline-fontStyle":"normal","--plasma-typo-underline-fontSize":"0.625rem","--plasma-typo-underline-letterSpacing":"0.0125em","--plasma-typo-underline-lineHeight":"0.75rem"}}),G=Object(c.createGlobalStyle)(m.touch),I=new h.a(w),P=c.default.div(v||(v=Object(r.a)(["\n  padding: 30px;\n  ","\n"])),d.body1),J=Object(o.memo)((function(){var t=Object(o.useState)("joy"),e=Object(s.a)(t,2),a=e[0],p=e[1],l=Object(o.useState)({}),m=Object(s.a)(l,2),y=(m[0],m[1]),f=Object(o.useRef)(),u=Object(o.useRef)(),b=Object(o.useState)([]),g=Object(s.a)(b,2),h=(g[0],g[1],Object(o.useState)(1)),j=Object(s.a)(h,2),O=(j[0],j[1],Object(o.useState)("")),x=Object(s.a)(O,2),w=(x[0],x[1]),v=Object(o.useState)(0),J=Object(s.a)(v,2),K=(J[0],J[1]),N=Object(o.useState)(0),U=Object(s.a)(N,2),M=(U[0],U[1]),V=Object(o.useState)(0),q=Object(s.a)(V,2),Q=(q[0],q[1]),X=Object(o.useState)("all12"),Y=Object(s.a)(X,2),Z=(Y[0],Y[1],n.a.useState(0)),$=Object(s.a)(Z,2),tt=$[0],et=$[1],at=Object(o.useRef)(0),ot=(Object(o.useRef)(0),Object(o.useRef)(0),Object(o.useState)(1)),nt=Object(s.a)(ot,2),pt=(nt[0],nt[1]),lt=(n.a.useCallback((function(t){var e;null===(e=u.current)||void 0===e||e.sendData({action:t}),console.log(t)}),[]),n.a.useCallback((function(t){void 0!==t&&w(t)}),[]),function(t){"ArrowLeft"!==t.code&&37!==t.keyCode||(I.play(),K(at.current)),"ArrowRight"!==t.code&&39!==t.keyCode||(I.play(),M(at.current)),"ArrowUp"!==t.code&&38!==t.keyCode||pt((function(t){var e=t-1<0?0:t-1;return console.log("ArrowUp",e),e})),"ArrowDown"!==t.code&&40!==t.keyCode||pt((function(t){var e=t+1>2?2:t+1;return console.log("ArrowDown",e),e})),"Enter"!==t.code&&13!==t.keyCode||(I.play(),Q(at.current))}),st=function(t){"ArrowLeft"!==t.code&&37!==t.keyCode||K(0),"ArrowRight"!==t.code&&39!==t.keyCode||M(0),"Enter"!==t.code&&13!==t.keyCode||Q(0)};Object(o.useEffect)((function(){return window.addEventListener("keydown",lt),window.addEventListener("keyup",st),function(){window.removeEventListener("keydown",lt),window.removeEventListener("keyup",st)}}),[]),Object(o.useEffect)((function(){var t;u.current=(t=function(){return f.current},Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_TOKEN,Object(i.a)({getState:t})),u.current.on("data",(function(t){switch(console.log("command: ".concat(JSON.stringify(t))),t.type){case"insets":console.log(t.insets),y(t.insets);break;case"character":p(t.character.id),console.log(t.character.id);break;case"navigation":switch(t.navigation.command){case"LEFT":console.log("LEFT"),K(at.current);break;case"RIGHT":console.log("RIGHT"),M(at.current)}break;case"smart_app_data":t.smart_app_data.game;break;default:return}}))}),[]),n.a.useEffect((function(){var t=window.setInterval((function(){et((function(t){return t+1})),at.current=tt}),10);return function(){window.clearInterval(t)}}),[tt]);var rt="none",it=Object(z.detectDevice)();"sberBox"!==it&&"touch"!==it||("sber"===a&&(rt="url(".concat(B,")")),"eva"===a&&(rt="url(".concat(H,")")),"joy"===a&&(rt="url(".concat(E,")"))),"sberPortal"===it&&("sber"===a&&(rt="url(".concat(T,")")),"eva"===a&&(rt="url(".concat(_,")")),"joy"===a&&(rt="url(".concat(F,")"))),"touch"===it&&(rt="url(".concat(W,")"));var ct=Object(c.createGlobalStyle)(k||(k=Object(r.a)(["\n      html {\n        background-image: ",";\n        background-size: cover;\n        min-height: 100vh;\n        background-color: ",";\n        \n      }\n    "])),rt,d.background);return Object(S.jsxs)(P,{children:[Object(S.jsx)(ct,{}),function(){switch(Object(z.detectDevice)()){case"sberBox":return Object(S.jsx)(L,{});case"sberPortal":return Object(S.jsx)(D,{});case"touch":return Object(S.jsx)(G,{});default:return}}(),function(){switch(a){case"sber":return Object(S.jsx)(R,{});case"eva":return Object(S.jsx)(C,{});case"joy":return Object(S.jsx)(A,{});default:return}}(),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{style:{color:"red"},children:"0.0.9.3"}),!1]})]})})),K=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,173)).then((function(e){var a=e.getCLS,o=e.getFID,n=e.getFCP,p=e.getLCP,l=e.getTTFB;a(t),o(t),n(t),p(t),l(t)}))};l.a.render(Object(S.jsx)(n.a.StrictMode,{children:Object(S.jsx)(J,{})}),document.getElementById("root")),K()},39:function(t,e,a){},6:function(t,e,a){},83:function(t,e,a){}},[[171,1,2]]]);
//# sourceMappingURL=main.4de69379.chunk.js.map