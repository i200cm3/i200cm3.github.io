(this.webpackJsonpIM=this.webpackJsonpIM||[]).push([[0],{188:function(e,t,a){},19:function(e,t,a){},449:function(e,t,a){},934:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),p=a(42),l=a.n(p),s=(a(449),a(3)),r=a(202),i=a(439),c=a(4),m=a(133),y=a(52),d=a(5),f=a(444),u=a(443),b=a.n(u),S=(a(9),a(712),a.p,a.p,a.p,a.p,a(188),a(1));a(19),a.p,a.p,a.p,a.p;a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p;a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p;a.p,a.p;var g=a(23),h=a.n(g),j=a.p+"static/media/sound 3.76799ea5.mp3",O=a.p+"static/media/sound 5.4c93a3d0.mp3",w=a.p+"static/media/sound 4.c342ec65.mp3",x=a.p+"static/media/sound 1.d686618e.mp3";new h.a(j),new h.a(O),new h.a(w),new h.a(x);a.p,a.p;a.p,a.p,a.p,a.p;a.p,a.p,a.p,a.p,a.p;a.p;new h.a(j),new h.a(O),new h.a(w),new h.a(x);var v=a(93);f.a.plugins.push(b.a);var k,T,F=a.p+"static/media/background_1280x800_s.42412c6b.jpg",_=a.p+"static/media/background_1280x800_a.22cc10a3.jpg",B=a.p+"static/media/background_1280x800_j.a6b96c1d.jpg",H=a.p+"static/media/background_1980x1080_s.cab348ec.jpg",E=a.p+"static/media/background_1980x1080_a.764ddacd.jpg",W=a.p+"static/media/background_1980x1080_j.8a84c2bd.jpg",z=Object(c.createGlobalStyle)(y.darkEva),C=Object(c.createGlobalStyle)(y.darkSber),R=Object(c.createGlobalStyle)(y.darkJoy),L=Object(c.createGlobalStyle)(m.sberBox),A=Object(c.createGlobalStyle)({":root":{"font-size":"22px","--plasma-typo-display1-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-display1-fontWeight":500,"--plasma-typo-display1-fontStyle":"normal","--plasma-typo-display1-fontSize":"6rem","--plasma-typo-display1-letterSpacing":"-0.0190em","--plasma-typo-display1-lineHeight":"6rem","--plasma-typo-display2-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-display2-fontWeight":500,"--plasma-typo-display2-fontStyle":"normal","--plasma-typo-display2-fontSize":"3.75rem","--plasma-typo-display2-letterSpacing":"-0.0190em","--plasma-typo-display2-lineHeight":"4rem","--plasma-typo-display3-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-display3-fontWeight":500,"--plasma-typo-display3-fontStyle":"normal","--plasma-typo-display3-fontSize":"3rem","--plasma-typo-display3-letterSpacing":"normal","--plasma-typo-display3-lineHeight":"3.25rem","--plasma-typo-headline1-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-headline1-fontWeight":700,"--plasma-typo-headline1-fontStyle":"normal","--plasma-typo-headline1-fontSize":"2rem","--plasma-typo-headline1-letterSpacing":"-0.0110em","--plasma-typo-headline1-lineHeight":"2.25rem","--plasma-typo-headline2-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-headline2-fontWeight":600,"--plasma-typo-headline2-fontStyle":"normal","--plasma-typo-headline2-fontSize":"1.5rem","--plasma-typo-headline2-letterSpacing":"-0.0220em","--plasma-typo-headline2-lineHeight":"1.75rem","--plasma-typo-headline3-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-headline3-fontWeight":600,"--plasma-typo-headline3-fontStyle":"normal","--plasma-typo-headline3-fontSize":"1.25rem","--plasma-typo-headline3-letterSpacing":"-0.0250em","--plasma-typo-headline3-lineHeight":"1.5rem","--plasma-typo-headline4-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-headline4-fontWeight":700,"--plasma-typo-headline4-fontStyle":"normal","--plasma-typo-headline4-fontSize":"1.25rem","--plasma-typo-headline4-letterSpacing":"-0.0250em","--plasma-typo-headline4-lineHeight":"1.5rem","--plasma-typo-body1-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-body1-fontWeight":500,"--plasma-typo-body1-fontStyle":"normal","--plasma-typo-body1-fontSize":"1rem","--plasma-typo-body1-letterSpacing":"-0.0190em","--plasma-typo-body1-lineHeight":"1.25rem","--plasma-typo-body2-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-body2-fontWeight":600,"--plasma-typo-body2-fontStyle":"normal","--plasma-typo-body2-fontSize":"1rem","--plasma-typo-body2-letterSpacing":"-0.0190em","--plasma-typo-body2-lineHeight":"1.25rem","--plasma-typo-body3-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-body3-fontWeight":700,"--plasma-typo-body3-fontStyle":"normal","--plasma-typo-body3-fontSize":"1rem","--plasma-typo-body3-letterSpacing":"-0.0190em","--plasma-typo-body3-lineHeight":"1.25rem","--plasma-typo-paragraph1-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-paragraph1-fontWeight":400,"--plasma-typo-paragraph1-fontStyle":"normal","--plasma-typo-paragraph1-fontSize":"1rem","--plasma-typo-paragraph1-letterSpacing":"-0.0190em","--plasma-typo-paragraph1-lineHeight":"1.375rem","--plasma-typo-paragraph2-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-paragraph2-fontWeight":600,"--plasma-typo-paragraph2-fontStyle":"normal","--plasma-typo-paragraph2-fontSize":"1rem","--plasma-typo-paragraph2-letterSpacing":"-0.0190em","--plasma-typo-paragraph2-lineHeight":"1.375rem","--plasma-typo-footnote1-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-footnote1-fontWeight":500,"--plasma-typo-footnote1-fontStyle":"normal","--plasma-typo-footnote1-fontSize":"0.875rem","--plasma-typo-footnote1-letterSpacing":"-0.0190em","--plasma-typo-footnote1-lineHeight":"1.125rem","--plasma-typo-footnote2-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-footnote2-fontWeight":600,"--plasma-typo-footnote2-fontStyle":"normal","--plasma-typo-footnote2-fontSize":"0.875rem","--plasma-typo-footnote2-letterSpacing":"-0.0190em","--plasma-typo-footnote2-lineHeight":"1.125rem","--plasma-typo-button1-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-button1-fontWeight":600,"--plasma-typo-button1-fontStyle":"normal","--plasma-typo-button1-fontSize":"1rem","--plasma-typo-button1-letterSpacing":"normal","--plasma-typo-button1-lineHeight":"1.25rem","--plasma-typo-button2-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-button2-fontWeight":600,"--plasma-typo-button2-fontStyle":"normal","--plasma-typo-button2-fontSize":"0.875rem","--plasma-typo-button2-letterSpacing":"normal","--plasma-typo-button2-lineHeight":"1rem","--plasma-typo-caption-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-caption-fontWeight":500,"--plasma-typo-caption-fontStyle":"normal","--plasma-typo-caption-fontSize":"0.75rem","--plasma-typo-caption-letterSpacing":"-0.0220em","--plasma-typo-caption-lineHeight":"1rem","--plasma-typo-underline-fontFamily":'"SB Sans Text",sans-serif',"--plasma-typo-underline-fontWeight":500,"--plasma-typo-underline-fontStyle":"normal","--plasma-typo-underline-fontSize":"0.625rem","--plasma-typo-underline-letterSpacing":"0.0125em","--plasma-typo-underline-lineHeight":"0.75rem"}}),D=Object(c.createGlobalStyle)(m.touch),I=new h.a(x),G=c.default.div(k||(k=Object(r.a)(["\n  //padding: 30px;\n  ","\n"])),d.body1),P=Object(o.memo)((function(){var e=Object(o.useState)("joy"),t=Object(s.a)(e,2),a=t[0],p=t[1],l=Object(o.useState)({}),m=Object(s.a)(l,2),y=(m[0],m[1]),f=Object(o.useRef)(),u=Object(o.useRef)(),b=Object(o.useState)([]),g=Object(s.a)(b,2),h=(g[0],g[1],Object(o.useState)(1)),j=Object(s.a)(h,2),O=(j[0],j[1],Object(o.useState)("")),w=Object(s.a)(O,2),x=(w[0],w[1]),k=Object(o.useState)(0),P=Object(s.a)(k,2),J=(P[0],P[1]),K=Object(o.useState)(0),N=Object(s.a)(K,2),U=(N[0],N[1]),M=Object(o.useState)(0),V=Object(s.a)(M,2),q=(V[0],V[1]),Q=Object(o.useState)("all"),X=Object(s.a)(Q,2),Y=X[0],Z=X[1],$=n.a.useState(0),ee=Object(s.a)($,2),te=ee[0],ae=ee[1],oe=Object(o.useRef)(0),ne=Object(o.useState)(1),pe=Object(s.a)(ne,2),le=(pe[0],pe[1]),se=Object(o.useState)(1),re=Object(s.a)(se,2),ie=re[0],ce=re[1],me=Object(o.useRef)(1),ye=Object(o.useRef)("all");me.current=ie,ye.current=Y;n.a.useCallback((function(e){var t;null===(t=u.current)||void 0===t||t.sendData({action:e}),console.log(e)}),[]),n.a.useCallback((function(e){void 0!==e&&x(e)}),[]),n.a.useCallback((function(e){ce(e),console.log("callback",ie)}),[ie]);var de=function(e){"ArrowLeft"!==e.code&&37!==e.keyCode||("all"!==ye.current?(I.play(),J(oe.current)):(console.log("gameFocus",ie),ce((function(e){return e-1<0?0:e-1})))),"ArrowRight"!==e.code&&39!==e.keyCode||("all"!==ye.current?(I.play(),U(oe.current)):(console.log("gameFocus",ie),ce((function(e){return e+1>=2?2:e+1})))),"ArrowUp"!==e.code&&38!==e.keyCode||le((function(e){var t=e-1<0?0:e-1;return console.log("ArrowUp",t),t})),"ArrowDown"!==e.code&&40!==e.keyCode||le((function(e){var t=e+1>2?2:e+1;return console.log("ArrowDown",t),t})),"Enter"!==e.code&&13!==e.keyCode||("all"!==ye.current?(I.play(),q(oe.current)):(0===me.current&&Z("ot"),1===me.current&&Z("povar"))),window.history.pushState({name:"start"},""),window.addEventListener("popstate",(function(e){null==e.state&&(console.log("back:"+e.state),Z("all"),e.preventDefault())}),!0),"Back"===e.code||4===e.keyCode||e.code},fe=function(e){"ArrowLeft"!==e.code&&37!==e.keyCode||J(0),"ArrowRight"!==e.code&&39!==e.keyCode||U(0),"Enter"!==e.code&&13!==e.keyCode||q(0)};Object(o.useEffect)((function(){return window.addEventListener("keydown",de),window.addEventListener("keyup",fe),function(){window.removeEventListener("keydown",de),window.removeEventListener("keyup",fe)}}),[]),Object(o.useEffect)((function(){var e;u.current=(e=function(){return f.current},Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_TOKEN,Object(i.a)({getState:e})),u.current.on("data",(function(e){switch(console.log("command: ".concat(JSON.stringify(e))),e.type){case"insets":console.log(e.insets),y(e.insets);break;case"character":p(e.character.id),console.log(e.character.id);break;case"navigation":switch(e.navigation.command){case"LEFT":console.log("LEFT"),J(oe.current);break;case"RIGHT":console.log("RIGHT"),U(oe.current)}break;case"smart_app_data":e.smart_app_data.game;break;default:return}}))}),[]),n.a.useEffect((function(){var e=window.setInterval((function(){ae((function(e){return e+1})),oe.current=te}),10);return function(){window.clearInterval(e)}}),[te]);var ue="none",be=Object(v.detectDevice)();"sberBox"!==be&&"touch"!==be||("sber"===a&&(ue="url(".concat(H,")")),"eva"===a&&(ue="url(".concat(E,")")),"joy"===a&&(ue="url(".concat(W,") "))),"sberPortal"===be&&("sber"===a&&(ue="url(".concat(F,")")),"eva"===a&&(ue="url(".concat(_,")")),"joy"===a&&(ue="url(".concat(B,")")));var Se=window.innerWidth,ge=window.innerHeight,he=Object(c.createGlobalStyle)(T||(T=Object(r.a)(["\n      html {\n        background-image: ",";\n        background-size: ","px ","px ;\n        min-height: 100vh;\n        background-color: ",";\n\n      }\n    "])),ue,Se,ge,d.background);return Object(S.jsxs)(G,{children:[Object(S.jsx)(he,{}),function(){var e=Object(v.detectDevice)();switch("touch"===e&&(e="sberBox"),e){case"sberBox":return Object(S.jsx)(L,{});case"sberPortal":return Object(S.jsx)(A,{});case"touch":return Object(S.jsx)(D,{});default:return}}(),function(){switch(a){case"sber":return Object(S.jsx)(C,{});case"eva":return Object(S.jsx)(z,{});case"joy":return Object(S.jsx)(R,{});default:return}}(),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{style:{position:"absolute",top:50,left:50,color:"black",zIndex:99999,fontSize:20},children:[Object(S.jsxs)("div",{children:[" vers: ","0.0.9.9"," "]}),Object(S.jsxs)("div",{children:["display :",window.innerWidth,", ",window.innerHeight]})]}),!1]})]})})),J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,936)).then((function(t){var a=t.getCLS,o=t.getFID,n=t.getFCP,p=t.getLCP,l=t.getTTFB;a(e),o(e),n(e),p(e),l(e)}))};l.a.render(Object(S.jsx)(n.a.StrictMode,{children:Object(S.jsx)(P,{})}),document.getElementById("root")),J()}},[[934,1,2]]]);
//# sourceMappingURL=main.56429df9.chunk.js.map